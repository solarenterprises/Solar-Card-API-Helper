// controllers/currency/accountController.mjs
import accountService from '../../services/currency/accountService.mjs';

const accountController = {
    getPreferredCurrencies: async (req, res) => {
        try {
            // const token = req.cookie.token;
            const token = "eyJraWQiOiJmODAyNjg0OC1mNTJkLTRmYWYtOGQ2OS1hNTM0YTA3NmQwOTAiLCJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJodHRwczovL2V4Y2hhbmdlLnBpL2F1dGhvcml6YXRpb24vcm9sZXMiOlsiZXhwaTpwdG46OjEzOnJvbGUvY2xpZW50Il0sInN1YiI6IjJkMmUzZWRhLTg5OGQtNGZhOS1hNGNkLWVmMzJjMmFlZGRjYyIsImF1ZCI6Imh0dHBzOi8va3J5cHRvbml0Iiwic2NvcGUiOiJkZXBvc2l0X2NyeXB0bzpjcmVhdGUgdXNlcl9lbWFpbDpjcmVhdGUgdHJhbnNmZXI6cmVhZCBkZXBvc2l0X2Jhbms6Y3JlYXRlIGV4Y2hhbmdlOmNyZWF0ZSB3aXRoZHJhdzpyZWFkIHRyYW5zZmVyX293bjpjcmVhdGUgd2l0aGRyYXdfYmFuazpzaG93IHVzZXJfbWZhOnJlYWQgdG9wX3VwX2FjY291bnQ6c2hvdyBkZXBvc2l0OnJlYWQgdXNlcl9waG9uZTpjcmVhdGUgd2l0aGRyYXdfaXBzOnNob3cgd2l0aGRyYXdfYXRtX2djcF9xcjpzaG93IHdpdGhkcmF3X290aGVyX2FjY291bnQ6c2hvdyBjb3VudGVycGFydHk6Y3JlYXRlIHRvcF91cF9jcnlwdG86c2hvdyB0b3BfdXBfYXRtX2djcF9xcjpzaG93IHVzZXJfbWZhOmNyZWF0ZSB3aXRoZHJhd19hdG06Y3JlYXRlIHdpdGhkcmF3X2FjY291bnQ6c2hvdyB0cmFuc2Zlcl9vdGhlcjpjcmVhdGUgdG9wX3VwX2JhbmtfY2FyZDpzaG93IHVzZXJfZW1haWw6d3JpdGUgZGVwb3NpdF9hdG06Y3JlYXRlIGFjY291bnRzOnJlYWQgYWNjb3VudHM6Y3JlYXRlIGNhcmRob2xkZXJfdXNlcjpyZWFkIGV4Y2hhbmdlOnNob3cgYWNjb3VudHM6c2hvdyBleGNoYW5nZTpyZWFkIHdpdGhkcmF3X2NyeXB0bzpjcmVhdGUgd2l0aGRyYXdfYmFuazpjcmVhdGUgdXNlcl9waG9uZTp3cml0ZSB3aXRoZHJhd19jcnlwdG86c2hvdyBjYXJkaG9sZGVyX3VzZXI6d3JpdGUgY291bnRlcnBhcnR5OnJlYWQgdG9wX3VwX2Jhbms6c2hvdyIsImlzcyI6Imh0dHBzOi8va3J5cHRvbml0LWFwaS5zdGcuZGFya25ldC5waWVmaS5hcHAvcmVnIiwiZXhwIjoxNzMzOTIwMjI1LCJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiaWF0IjoxNzMzODMzODI1LCJndHkiOiJjbGllbnQtY3JlZGVudGlhbHMiLCJqdGkiOiIyNzM1NmI4YS1kZjVlLTQ0NjUtOWE5Ni1mN2JjZGJmYTYyYTcifQ.eafy6z40VHs2AKJIw94zFDZsCwUiw8Uu2O8RwaGD_4A5cB1zNd2QZh-oWnFWJtbSCBiz1ihhHbBfIvbiD3PI9YQ8MOIvADZQbwj4rtvoazGsoDVOJMPiaxSR9HenA18NUuJxLL2trQDBC_uTfGLlWZUu17L3Wf3ufi42bFNkjd7xhQRmZq3vnNe0SBpQRI9z1qv3xKSZfRVv8YRoky92ZkcXnwPprsmwoHBTKZtCvNTmpsyr2DMkjKRFc13nfE4xnmlPgBTMW-XwM08kZsmZkS-CIxJsuyj8iOm5rU3WYJwxj90uZHotaKPK3CFTTUq9bvjb5pETuoVPTecjVNrEoNvFM7x1oiW2opVvJ3rrzumZS2x6JUOU3rOEPOn1ldjqHQ-WvHJCpiTKAPwsQqqd6ycwqVXvIieLuvOujG_dV78V6o8zQH8QJMcwpC2tYN7R1iuPr3RjGE1vnQcwdfC4KuDdlDbkH6tB7Ts4Xr5J1P3LVx21xbJltcOTC2ERcXGwfGp8me5zz-uD4LJdCD-RmLl74nJVljJy1KoRZCLqdxzT7HK7PXP-wED2oLT4lqO0ze8Rbe5EKDMEXOXw_mlUH9slzFKeiM6wIopT68Kuxoj25EA9JNC3ihLjFbiOkeujoEh9g7RIRKR-2yyPco3cl_5aHlYhptAhQRTqsysmsSA";
            const tokenResponse = await accountService.getPreferredCurrencies(token);
            res.status(200).json({data: tokenResponse});
        } catch (error) {
            console.log(error)
            res.status(500).json({result: "failed"});
        }
    },
    
    setPreferredCurrencies: async (req, res) => {
        try {
            // const token = req.cookie.token;
            const token = "eyJraWQiOiJmODAyNjg0OC1mNTJkLTRmYWYtOGQ2OS1hNTM0YTA3NmQwOTAiLCJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJodHRwczovL2V4Y2hhbmdlLnBpL2F1dGhvcml6YXRpb24vcm9sZXMiOlsiZXhwaTpwdG46OjEzOnJvbGUvY2xpZW50Il0sInN1YiI6IjJkMmUzZWRhLTg5OGQtNGZhOS1hNGNkLWVmMzJjMmFlZGRjYyIsImF1ZCI6Imh0dHBzOi8va3J5cHRvbml0Iiwic2NvcGUiOiJkZXBvc2l0X2NyeXB0bzpjcmVhdGUgdXNlcl9lbWFpbDpjcmVhdGUgdHJhbnNmZXI6cmVhZCBkZXBvc2l0X2Jhbms6Y3JlYXRlIGV4Y2hhbmdlOmNyZWF0ZSB3aXRoZHJhdzpyZWFkIHRyYW5zZmVyX293bjpjcmVhdGUgd2l0aGRyYXdfYmFuazpzaG93IHVzZXJfbWZhOnJlYWQgdG9wX3VwX2FjY291bnQ6c2hvdyBkZXBvc2l0OnJlYWQgdXNlcl9waG9uZTpjcmVhdGUgd2l0aGRyYXdfaXBzOnNob3cgd2l0aGRyYXdfYXRtX2djcF9xcjpzaG93IHdpdGhkcmF3X290aGVyX2FjY291bnQ6c2hvdyBjb3VudGVycGFydHk6Y3JlYXRlIHRvcF91cF9jcnlwdG86c2hvdyB0b3BfdXBfYXRtX2djcF9xcjpzaG93IHVzZXJfbWZhOmNyZWF0ZSB3aXRoZHJhd19hdG06Y3JlYXRlIHdpdGhkcmF3X2FjY291bnQ6c2hvdyB0cmFuc2Zlcl9vdGhlcjpjcmVhdGUgdG9wX3VwX2JhbmtfY2FyZDpzaG93IHVzZXJfZW1haWw6d3JpdGUgZGVwb3NpdF9hdG06Y3JlYXRlIGFjY291bnRzOnJlYWQgYWNjb3VudHM6Y3JlYXRlIGNhcmRob2xkZXJfdXNlcjpyZWFkIGV4Y2hhbmdlOnNob3cgYWNjb3VudHM6c2hvdyBleGNoYW5nZTpyZWFkIHdpdGhkcmF3X2NyeXB0bzpjcmVhdGUgd2l0aGRyYXdfYmFuazpjcmVhdGUgdXNlcl9waG9uZTp3cml0ZSB3aXRoZHJhd19jcnlwdG86c2hvdyBjYXJkaG9sZGVyX3VzZXI6d3JpdGUgY291bnRlcnBhcnR5OnJlYWQgdG9wX3VwX2Jhbms6c2hvdyIsImlzcyI6Imh0dHBzOi8va3J5cHRvbml0LWFwaS5zdGcuZGFya25ldC5waWVmaS5hcHAvcmVnIiwiZXhwIjoxNzMzOTIwMjI1LCJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiaWF0IjoxNzMzODMzODI1LCJndHkiOiJjbGllbnQtY3JlZGVudGlhbHMiLCJqdGkiOiIyNzM1NmI4YS1kZjVlLTQ0NjUtOWE5Ni1mN2JjZGJmYTYyYTcifQ.eafy6z40VHs2AKJIw94zFDZsCwUiw8Uu2O8RwaGD_4A5cB1zNd2QZh-oWnFWJtbSCBiz1ihhHbBfIvbiD3PI9YQ8MOIvADZQbwj4rtvoazGsoDVOJMPiaxSR9HenA18NUuJxLL2trQDBC_uTfGLlWZUu17L3Wf3ufi42bFNkjd7xhQRmZq3vnNe0SBpQRI9z1qv3xKSZfRVv8YRoky92ZkcXnwPprsmwoHBTKZtCvNTmpsyr2DMkjKRFc13nfE4xnmlPgBTMW-XwM08kZsmZkS-CIxJsuyj8iOm5rU3WYJwxj90uZHotaKPK3CFTTUq9bvjb5pETuoVPTecjVNrEoNvFM7x1oiW2opVvJ3rrzumZS2x6JUOU3rOEPOn1ldjqHQ-WvHJCpiTKAPwsQqqd6ycwqVXvIieLuvOujG_dV78V6o8zQH8QJMcwpC2tYN7R1iuPr3RjGE1vnQcwdfC4KuDdlDbkH6tB7Ts4Xr5J1P3LVx21xbJltcOTC2ERcXGwfGp8me5zz-uD4LJdCD-RmLl74nJVljJy1KoRZCLqdxzT7HK7PXP-wED2oLT4lqO0ze8Rbe5EKDMEXOXw_mlUH9slzFKeiM6wIopT68Kuxoj25EA9JNC3ihLjFbiOkeujoEh9g7RIRKR-2yyPco3cl_5aHlYhptAhQRTqsysmsSA";
            const tokenResponse = await accountService.getPreferredCurrencies(token);
            res.status(200).json({data: tokenResponse});
        } catch (error) {
            console.log(error)
            res.status(500).json({result: "failed"});
        }
    },
};

export default accountController;
